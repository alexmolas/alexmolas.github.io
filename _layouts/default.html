---
layout: none
---

<!DOCTYPE html>
<html>
<head>
  <title>{{ page.title }}</title>
  <link rel="stylesheet" href="{{ '/css/styles.css' | relative_url }}?v={{ site.time | date: '%s' }}">
  <link rel="stylesheet" href="{{ '/css/syntax.css' | relative_url }}?v={{ site.time | date: '%s' }}">
  <link rel="icon" href="/favicon.ico">
  <meta name="searchmysite-verification" content="2XkyK7acSKjx5MmZ0sDICV7X7UEgxagtZDIPhA4pOk">
  <meta name="description" content="{{ page.description }}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  {% if jekyll.environment == 'production' %}
    <script defer src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics.id }}"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function(event) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);} 
        gtag('js', new Date());
        gtag('config', '{{ site.google_analytics.id }}');
      });
    </script>
  {% endif %}

  <script>
    window.MathJax = {
      tex: {
        inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
        displayMath: [ ['$$', '$$'], ['\\[', '\\]'] ],
        processEscapes: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'pre', 'code'],
        ignoreHtmlClass: 'tex2jax_ignore',
        processHtmlClass: 'tex2jax_process'
      }
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  
</head>
<body>
  <!-- Header -->
  <header>
    <nav>
      <center>
        <a href="/">Home</a> ·
        <a href="/about.html">About</a> ·
        <a href="/blog.html">Blog</a> ·
        <a href="/services.html">Services</a> ·
        <a href="#" onclick="openSearchModal(); return false;" title="Search posts (Cmd+K)">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle;">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          (ctrl k)
        </a>
      </center>
    </nav>
  </header>

  <hr>

  <!-- Main Content -->
  <main>
    {{ content }}
  </main>

  <!-- Footer -->
  <footer>
    <hr>
    <center><small>
      <a href="/feed.xml">RSS</a> · 
      <a href="{{ site.twitter_link }}">Twitter</a> · 
      <a href="{{ site.github_link }}">GitHub</a> · 
      <a href="/blogroll.html">Blogroll</a> · 
      <a href="/recipes.html">Recipes</a> ·
      <a href="{{ site.buymeacoffee_link }}">Buy me a beer</a>
    </small></center>
  </footer>

  <!-- Search functionality (moved to end for performance) -->
  {% include search-modal.html %}
  {% include search-index.html %}
  {% include search-script.html %}

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const images = document.querySelectorAll("main img");
      images.forEach(img => {
        img.addEventListener("click", function() {
          const modal = document.createElement("div");
          modal.classList.add("modal");
          const modalContent = document.createElement("img");
          modalContent.classList.add("modal-content");
          modalContent.src = this.src;
          modal.appendChild(modalContent);
          document.body.appendChild(modal);

          const closeModal = function() {
            document.body.removeChild(modal);
            document.removeEventListener("keydown", handleKeydown);
          };
          
          modal.addEventListener("click", closeModal);
          
          const handleKeydown = function(event) {
            if (event.key === "Escape") {
              closeModal();
            }
          };

          document.addEventListener("keydown", handleKeydown);
        });
      });
    });
  </script>
</body>
</html>
